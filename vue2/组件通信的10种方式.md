# ğŸ“š ç›®å½•

1. [çˆ¶ç»„ä»¶propsä¼ å€¼ç»™å­ç»„ä»¶](#1-çˆ¶ç»„ä»¶propsä¼ å€¼ç»™å­ç»„ä»¶)  
    1. [propsæ‰©å±•å±æ€§](#1-1-propsæ‰©å±•å±æ€§)
    2. [propsæ‰©å±•ç¤ºä¾‹](#1-2-propsæ‰©å±•ç¤ºä¾‹)
2. [å­ç»„ä»¶$emitä¼ å€¼ç»™çˆ¶ç»„ä»¶](#2-å­ç»„ä»¶emitä¼ å€¼ç»™çˆ¶ç»„ä»¶)
    1. [$emitä¼ é€’å¤šä¸ªå‚æ•°](#2-1-emitä¼ é€’å¤šä¸ªå‚æ•°)
    2. [$emitè§¦å‘æ—¶çš„åŒæ—¶ï¼Œçˆ¶ç»„ä»¶ä¹Ÿä¼ é€’å‚æ•°](#2-2-emitè§¦å‘æ—¶çš„åŒæ—¶çˆ¶ç»„ä»¶ä¹Ÿä¼ é€’å‚æ•°)
3. [ç¥–å…ˆç»„ä»¶provideä¼ é€’å­™å­ç»„ä»¶injectæ¥æ”¶](#3-ç¥–å…ˆç»„ä»¶provideä¼ é€’å­™å­ç»„ä»¶injectæ¥æ”¶)
4. [çˆ¶ç»„ä»¶$refsè·å–å­ç»„ä»¶æ•°æ®](#4-çˆ¶ç»„ä»¶refsè·å–å­ç»„ä»¶æ•°æ®)
5. [å­ç»„ä»¶$parentè·å–çˆ¶ç»„ä»¶æ•°æ®](#5-å­ç»„ä»¶parentè·å–çˆ¶ç»„ä»¶æ•°æ®)
6. [ç»„ä»¶$attrså’Œ$listenersé€ä¼ ](#6-ç»„ä»¶attrså’Œlistenersé€ä¼ )
    1. [$attrs](#6-1-attrs)
    2. [$listeners](#6-2-listeners)
7. [äº‹ä»¶æ€»çº¿event-bus](#7-äº‹ä»¶æ€»çº¿event-bus)
8. [vue-routerä¼ å€¼](#8-vue-routerä¼ å€¼)
9. [vuexä¼ å€¼](#9-vuexä¼ å€¼)
10. [slotä½œç”¨åŸŸä¼ å€¼](#10-slotä½œç”¨åŸŸä¼ å€¼)
---

# 1. çˆ¶ç»„ä»¶propsä¼ å€¼ç»™å­ç»„ä»¶

> å­ç»„ä»¶ä¸­å®šä¹‰`props`å­—æ®µï¼Œç±»å‹ä¸º`Array`ï¼ˆå¦‚éœ€é™åˆ¶å­—æ®µå€¼ç±»å‹ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä¸º`Object`çš„å½¢å¼ï¼‰ã€‚å¦‚ä¸‹ä¾‹å­ï¼Œçˆ¶ç»„ä»¶æŒ‚è½½å­ç»„ä»¶`helloWorld`ï¼Œåœ¨ç»„ä»¶æ ‡ç­¾ä¸Šç»™`title`èµ‹å€¼ï¼Œå­ç»„ä»¶`helloWorld`å®šä¹‰äº†`props`å±æ€§ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªå€¼æ˜¯`title`ï¼Œè¿™æ ·å­ç»„ä»¶å°±å¯ä»¥ä½¿ç”¨çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å€¼äº†ã€‚

- çˆ¶ç»„ä»¶ï¼š`home.vue`

```vue
<template>
  <div>
    <hello-world :title="msg" />
  </div>
</template>

<script>
import helloWorld from "../components/hello-world.vue";

export default {
  name: "home",
  data() {
    return {
      msg: "æœç´¢éŸ³ä¹"
    }
  },
  components: {
    helloWorld
  }
}
</script>
```

- å­ç»„ä»¶ï¼š`hello-world.vue`

```vue
<template>
  <div class="hello">
    <h1>{{ title }}</h1>
  </div>
</template>

<script>
export default {
  name: "helloWorld",
  props:["title"] // æ¥æ”¶ä¼ é€’è¿‡æ¥çš„å€¼
}
</script>
```
## 1-1. propsæ‰©å±•å±æ€§

[æ–‡æ¡£ä¼ é€é—¨](https://v2.cn.vuejs.org/v2/api/#props)

|å±æ€§å|å€¼|æè¿°|
|--|--|--|
|type|`javaScript`æ•°æ®ç±»å‹|é™åˆ¶`props`çš„ç±»å‹|
|default|é»˜è®¤å€¼|`props`çš„é»˜è®¤å€¼|
|required|`Boolean`|æ˜¯å¦å¿…é¡» `true`ä¸ºå¿…é¡»|
|validator|å›è°ƒå‡½æ•° é»˜è®¤å‚æ•°ä¸º`props`çš„å€¼|å¯¹`props`çš„å€¼åšå¤„ç† è¿”å›å€¼å¿…é¡»æ˜¯`Boolean`|

## 1-2. propsæ‰©å±•ç¤ºä¾‹

```vue
<template>
  <div class="hello">
    <h1>{{ title }}</h1>
  </div>
</template>

<script>
export default {
  name: "helloWorld",
  props: {
    title: String, // é™åˆ¶å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹
    age: {
      type: Number,
      default: 0,
      required: true,
      validator: (value) => {
        return value >= 0
      }
    },
    list: {
      type: Object,
      default: () => ({}) // å¼•ç”¨ç±»å‹çš„é»˜è®¤å€¼ å¿…é¡»ç”¨ä¸€ä¸ªç®­å¤´å‡½æ•°è¿”å›
    }
  }
}
</script>
```


# 2. å­ç»„ä»¶$emitä¼ å€¼ç»™çˆ¶ç»„ä»¶

> å­ç»„ä»¶ä¼ å€¼ç»™çˆ¶ç»„ä»¶ï¼Œéœ€è¦åœ¨å­ç»„ä»¶ä¸­è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œåœ¨äº‹ä»¶ä¸­ï¼Œè°ƒç”¨$emit('çˆ¶ç»„ä»¶çš„æ–¹æ³•å', 'ä¼ é€’çš„å€¼')ï¼Œç„¶ååœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œé€šè¿‡åœ¨å­ç»„ä»¶æ ‡ç­¾ä¸Šè‡ªå®šä¹‰äº‹ä»¶å‡½æ•°ï¼Œæ¥æ”¶ä¼ é€’è¿‡æ¥çš„å€¼ã€‚

- çˆ¶ç»„ä»¶ï¼š`home.vue`

```vue
<template>
  <div>
    <hello-world @childEvent="parentEvent" />
  </div>
</template>

<script>
import helloWorld from "../components/hello-world.vue";

export default {
  name: "home",
  components: {
    helloWorld
  },
  data() {
    return {}
  },
  methods: {
    parentEvent(value) {
      // å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å€¼
      console.log(value)
    }
  }
}
</script>
```

- å­ç»„ä»¶ï¼š`hello-world.vue`

```vue
<template>
  <div class="hello">
    <h1 @click="handle">{{ age }}</h1>
  </div>
</template>

<script>
export default {
  name: "helloWorld",
  data() {
    return {
      age:18
    }
  },
  methods: {
    handle(){
      this.age++
      this.$emit("childEvent", this.age)
    }
  }
}
</script>
```

## 2-1. $emitä¼ é€’å¤šä¸ªå‚æ•°

åœ¨`$emit`çš„ç¬¬ä¸€ä¸ªå‚æ•°åé¢æ·»åŠ ï¼Œçˆ¶ç»„ä»¶æŒ‰é¡ºåºæ¥æ”¶ã€‚æˆ–è€…ç›´æ¥ä¼ é€’ä¸€ä¸ª`Object`ã€‚

```javascript
// å­ç»„ä»¶
this.$emit("childEvent", this.age, 'xxx', 'xxxx')
// or
this.$emit("childEvent", { a: 1, b: 2 })

// çˆ¶ç»„ä»¶
parentEvent(value1, value2) {
  console.log(value1)
  console.log(value2)
}
```

## 2-2. $emitè§¦å‘æ—¶çš„åŒæ—¶ï¼Œçˆ¶ç»„ä»¶ä¹Ÿä¼ é€’å‚æ•°

- çˆ¶ç»„ä»¶ï¼š`home.vue`

```vue
<template>
  <div>
    <hello-world @childEvent="parentEvent(arguments, 'æˆ‘æ˜¯çˆ¶ç»„ä»¶è¦æºå¸¦çš„å‚æ•°')" />
  </div>
</template>

<script>
import helloWorld from "../components/hello-world.vue";

export default {
  name: "home",
  components: {
    helloWorld
  },
  data() {
    return {}
  },
  methods: {
    parentEvent(childParam, parentParam) {
      // å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å€¼ï¼Œæ˜¯ä¸ªæ•°ç»„
      console.log(childParam)
      // çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼
      console.log(parentParam)
    }
  }
}
</script>
```

- å­ç»„ä»¶ï¼š`hello-world.vue`

```vue
<template>
  <div class="hello">
    <h1 @click="handle">{{ age }}</h1>
  </div>
</template>

<script>
export default {
  name: "helloWorld",
  data() {
    return {
      age:18
    }
  },
  methods: {
    handle(){
      this.age++
      this.$emit("childEvent", this.age, 'ç¬¬äºŒä¸ªå€¼')
    }
  }
}
</script>
```

# 3. ç¥–å…ˆç»„ä»¶provideä¼ é€’å­™å­ç»„ä»¶injectæ¥æ”¶

> å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨å…¶ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆã€‚æ³¨æ„ï¼šprovide å’Œ inject ç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„ï¼Œç„¶è€Œï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„ property è¿˜æ˜¯å¯å“åº”çš„ã€‚æ¯”å¦‚vue3ä¸­ï¼Œä¼ é€’äº†ä¸€ä¸ªrefå®šä¹‰çš„å€¼ï¼Œåˆ™æ˜¯å“åº”å¼çš„ï¼Œå¦‚æœè¦ä¼ é€’reactiveå®šä¹‰çš„å€¼ï¼Œè¯·ä½¿ç”¨computedåŒ…ä¸€å±‚ï¼Œåˆ™å¯ä»¥å“åº”å¼ã€‚

- ç¥–å…ˆç»„ä»¶ï¼š`ancestor.vue`

```javascript
<template>
 <div id="ancestor">
  <Parent :keys="keys" />
 </div>
</template>

<script>
import Parent from '../../components/parent'

export default {
 name: 'ancestor',
 components: {
  Parent
 },
 provide() {
  return {
   obj: this.obj
  }
 },
 data() {
  return {
   title: 'ancestor',
   keys: 1998,
   obj: {
    set: 'hello provide'
   }
  }
 }
}
</script>
```

- çˆ¶ç»„ä»¶ï¼š`parent.vue`

```javascript
<template>
 <div id="parent">
  <div class="head_box">
   <Son :value="index" />
  </div>
 </div>
</template>

<script>
import Son from '../son'

export default {
 name: 'parent',
 components: {
  Title
 },
 data() {
  return {
   index: 'WoW'
  }
 }
}
</script>
```

- å­ç»„ä»¶ï¼š`son.vue`

```javascript
<template>
 <div id="son">
  <div class="title_box">
   <p>æˆ‘æ˜¯ {{ obj.set }}</p>
  </div>
 </div>
</template>

<script>
export default {
 name: 'son',
 inject: {
  obj: {
   from: 'Communication',
   default: {}
  }
 },
 data() {
  return {
   index: 1
  }
 }
}
</script>
```

# 4. çˆ¶ç»„ä»¶$refsè·å–å­ç»„ä»¶æ•°æ®

> åœ¨å­ç»„ä»¶æ ‡ç­¾ä¸Šå†™ä¸Šrefå±æ€§ï¼Œçˆ¶ç»„ä»¶é€šè¿‡this.$refs.name.æ–¹æ³•åæˆ–è€…this.$refs.name.å±æ€§åçš„æ–¹å¼å¯ä»¥è®¿é—®å­ç»„ä»¶çš„æ•°æ®å’Œæ–¹æ³•

- çˆ¶ç»„ä»¶ï¼š`parent.vue`

```javascript
<template>
  <div>
    <Son :title="msg" ref="hello" />
    <button @click="parentEvent">æˆ‘æ˜¯çˆ¶äº²</button>
  </div>
</template>

<script>
import Son from "../components/son.vue";

export default {
  name: "parent",
  data() {
    return {
      msg: "æœç´¢éŸ³ä¹",
    };
  },

  methods: {
    parentEvent() {
      this.$refs.hello.add();
      console.log(this.$refs.hello.age);
    },
  },
  components: {
    HelloWorld
  },
};
</script>
```

- å­ç»„ä»¶ï¼š`son.vue`

```javascript
<template>
  <div class="hello">
    <h1>{{ title }}</h1>
  </div>
</template>

<script>
export default {
  name: "HelloWorld",
  props: ["title"],
  data() {
    return {
      age:18
    }
  },
  methods: {
    add(){
      console.log("æˆ‘æ˜¯å­ç»„ä»¶")
    }
  }
}
</script>
```
# 5. å­ç»„ä»¶$parentè·å–çˆ¶ç»„ä»¶æ•°æ®

> åœ¨å­ç»„ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨$parentè®¿é—®å…¶ä¸Šçº§çˆ¶ç»„ä»¶çš„æ•°æ®å’Œæ–¹æ³•ã€‚å¦‚æœæ˜¯å¤šé‡åµŒå¥—ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¤šå±‚$parentå±‚å±‚å¾€ä¸Šã€‚

- çˆ¶ç»„ä»¶ï¼š`parent.vue`

```javascript
<template>
  <div>
    <Son :title="msg" ref="hello" />
  </div>
</template>

<script>
import Son from "../components/son.vue";

export default {
  name: "parent",
  components: {
    Son
  },
  data() {
    return {
      msg: "æœç´¢éŸ³ä¹",
    };
  },

  methods: {
    parentEvent() {
      console.log("æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„æ–¹æ³•");
    },
  }
}
</script>
```

- å­ç»„ä»¶ï¼š`son.vue`

```javascript
<template>
  <div class="hello">
    <h1 @click="add">{{ title }}</h1>
  </div>
</template>

<script>
export default {
  name: "HelloWorld",
  props: ["title"],
  data() {
    return {
      age:18
    };
  },
  methods: {
    add(){
      console.log(this.$parent.msg)
      this.$parent.parentEvent();
    }
  },
};
</script>
```

æ³¨ï¼šå¦‚æœè¦æ‰¾çˆ¶ç»„ä»¶çš„çˆ¶ç»„ä»¶ï¼Œthis.$parent.$parent.xxxï¼Œå¦‚æ­¤ç±»æ¨
# 6. ç»„ä»¶$attrså’Œ$listenersé€ä¼ 

> $attrsåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸ä½œä¸ºpropè¢«è¯†åˆ«è·å–çš„ attribute ç»‘å®š(class å’Œ style é™¤å¤–)ï¼Œè€Œ$listenersåˆ™åŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­çš„ (ä¸å« .native ä¿®é¥°å™¨çš„) v-on äº‹ä»¶ç›‘å¬å™¨

## 6-1. $attrs

- ç¥–å…ˆç»„ä»¶ï¼š`ancestor.vue`

```javascript
<template>
 <div id="ancestor">
  <Parent :keys="keys" num="3000" />
 </div>
</template>

<script>
import Parent from '../../components/parent'

export default {
 name: 'ancestor',
 components: {
  Parent
 },
 data() {
  return {
   keys: 1998
  }
 }
}
</script>
```

- çˆ¶ç»„ä»¶ï¼š`parent.vue`

```javascript
<template>
 <div id="parent">
  <div class="head_box">
   <Son v-bind="$attrs" />
  </div>
 </div>
</template>

<script>
import Son from '../son'

export default {
 name: 'parent',
 components: {
  Son
 },
 data() {
  return {}
 }
}
</script>
```

- å­ç»„ä»¶ï¼š`son.vue`

```javascript
<template>
 <div id="son">
  <div class="title_box">
   <p>çˆ·çˆ·çš„å€¼ï¼š{{ $attrs.keys }}</p>
   <p>çˆ·çˆ·çš„å€¼ï¼š{{ $attrs.num }}</p>
  </div>
 </div>
</template>

<script>
export default {
 name: 'son',
 data() {
  return {}
 }
}
</script>
```

## 6-2. $listeners

- ç¥–å…ˆç»„ä»¶ï¼š`ancestor.vue`

```javascript
<template>
 <div id="ancestor">
  <Parent :keys="keys" @handleChildAdd="handleAdd" />
 </div>
</template>

<script>
import Parent from '../../components/parent'

export default {
 name: 'ancestor',
 components: {
  Parent
 },
 data() {
  return {
   keys: 1998
  }
 },
 methods: {
  // çˆ¶ç»„ä»¶çš„äº‹ä»¶
  handleAdd() {
   this.keys++
  }
 }
}
</script>
```

- çˆ¶ç»„ä»¶ï¼š`parent.vue`

```javascript
<template>
 <div id="parent">
  <div class="head_box">
   <Son v-bind="$attrs" v-on="$listeners" />
  </div>
 </div>
</template>

<script>
import Son from '../son'

export default {
 name: 'parent',
 components: {
  Son
 },
 data() {
  return {}
 }
}
</script>
```

- å­ç»„ä»¶ï¼š`son.vue`

```javascript
<template>
 <div id="son">
  <div class="title_box">
   <p>çˆ·çˆ·çš„å€¼ï¼š{{ $attrs.keys }}</p>
   <span @click="chlidEvent">ç‚¹å‡»è§¦å‘çˆ·çˆ·çš„äº‹ä»¶</span>
  </div>
 </div>
</template>

<script>
export default {
 name: 'son',
 data() {
  return {}
 },
 methods: {
  chlidEvent() {
   // é€šè¿‡$emitè°ƒç”¨çˆ·çˆ·çš„æ–¹æ³•
   this.$emit('handleChildAdd')
  }
 }
}
</script>
```
# 7. äº‹ä»¶æ€»çº¿event-bus

- å…ˆæ–°å»ºä¸€ä¸ªbus.jsæ–‡ä»¶ï¼Œåœ¨bus.jsé‡Œnewä¸€ä¸ªVueå®ä¾‹ï¼Œå……å½“ä¼ è¾“æ•°æ®çš„ä¸­é—´å±‚

```javascript
import Vue from 'vue';
export default new Vue;
```

- åœ¨ç»„ä»¶Aä¸­å¼•å…¥bus.jsï¼Œé€šè¿‡bus.$emit('äº‹ä»¶å','å‚æ•°')ä¼ é€’å‚æ•°

```javascript
<template>
  <div class="hello">
    <h1 @click="add">{{ title }}</h1>
  </div>
</template>

<script>
import bus from "../publicFn/bus.js";

export default {
  name: "HelloWorld",
  props: ["title"],
  data() {
    return {
      age:18
    };
  },
  methods: {
    add(){
      bus.$emit("childEvent", this.age);
    }
  },
};
</script>
```

- åœ¨Bç»„ä»¶mountedå‘¨æœŸä¸­ä½¿ç”¨$on('äº‹ä»¶å', function(){})æ¥æ”¶

```javascript
<template>
  <div id='swiper'>
    <button>æˆ‘æ˜¯æŒ‰é’®</button>
  </div>
</template>

<script>

import bus from "../publicFn/bus.js";

export default {
  name:'Swiper',
  data (){
    return {

    }
  },
  mounted(){
    bus.$on("childEvent", (e) => {
      console.log(e)
    })
  }
}
</script>
```

# 8. vue-routerä¼ å€¼

ç§»æ­¥ï¼švue-routeræ€»ç»“

# 9. vuexä¼ å€¼

ç§»æ­¥ï¼švuexæ€»ç»“

# 10. slotä½œç”¨åŸŸä¼ å€¼

ä½œç”¨åŸŸæ’æ§½ï¼Œæ˜¯åœ¨å­ç»„ä»¶çš„`slot`ä¸Šç»‘å®šå±æ€§æ¥å°†å­ç»„ä»¶çš„ä¿¡æ¯ä¼ ç»™çˆ¶ç»„ä»¶ä½¿ç”¨ï¼Œè¿™äº›å±æ€§ä¼šè¢«æŒ‚åœ¨çˆ¶ç»„ä»¶çš„slot-scopeå¯¹è±¡ä¸Šã€‚ç»‘å®šæ’æ§½æ—¶ç”¨çš„keyï¼Œå°±æ˜¯çˆ¶ç»„ä»¶è·å–æ•°æ®çš„å¯¹è±¡åã€‚å¦‚ä¸‹ä¾‹å­ï¼Œå­ç»„ä»¶å®šä¹‰äº†ä¸€ä¸ªslotï¼Œåå­—ä¸ºtextï¼Œå¹¶ä¸”åœ¨slotä¸Šç»‘å®šäº†ä¸€ä¸ªdataå±æ€§ï¼Œå±æ€§çš„å€¼ï¼Œå°±æ˜¯å­ç»„ä»¶éœ€è¦ä¼ é€’è¿‡å»çš„å€¼ã€‚å½“çˆ¶ç»„ä»¶ä½¿ç”¨å­ç»„ä»¶çš„textæ’æ§½æ—¶ï¼Œé€šè¿‡textæ’æ§½è·å–åˆ°scopeå¯¹è±¡ï¼Œscopeå¯¹è±¡ä¸Šï¼Œå°±å¯ä»¥è·å–åˆ°å­ç»„ä»¶ä¼ é€’çš„å€¼ã€‚

ç§»æ­¥ï¼š[slotä½œç”¨åŸŸä¼ å€¼](å†…ç½®æŒ‡ä»¤å’Œè‡ªå®šä¹‰æŒ‡ä»¤.md#1-12-3-ä½œç”¨åŸŸæ’æ§½)

- çˆ¶ç»„ä»¶

```javascript
<template>
  <div>
    <aaaChildren>
      <template #default="scope">
        <h1>{{ scope.info.age }}</h1>
      </template>
      <template #text="scope">
        <h2>{{ scope.data }}</h2>
      </template>
    </aaaChildren>
  </div>
</template>

<script>
import aaaChildren from './children/index.vue'

export default {
  name:'aaa',
  components:{
    aaaChildren
  }
}
</script>
```

- å­ç»„ä»¶

```javascript
<template>
  <div class="aaa_children">
    <slot :info="user"></slot>
    <slot name="text" :data="name"></slot>
  </div>
</template>

<script>
  export default {
    name:'aaaChildren',
    props:[],
    components:{},
    data(){
      return {
        user: {
          age: 18,
          name: 'å°æ˜'
        },
        name: 'å¡å¡ç½—ç‰¹'
      }
    }
  }
</script>
```
